
<!---premiere ligne definit le type de document-->
<!doctype html>
<html lang="fr">
    <head>
        <meta charset="utf-8">

        <title> Hello jQuery !</title>

        <link href="./assets/styles.css" rel="stylesheet">

        <script src="./node_modules/jquery/dist/jquery.min.js"></script>

    </head>

    <body>
        <header>
            <h1></h1>
        </header>
        <main>
            <!--- Un compteur [+/-] On pose le décor-->
            <div class = "counter">
                    <!---POur décrémenter la valeur-->
                    <span class = "down">
                        -
                    </span>

                    <!---La valeur elle meme-->
                    <span class="value">0</span>

                    <!---pour incrémenter la valeur-->
                    <span class="up">
                        +
                    </span>
            </div>
            <!---Fin du décor-->


            <div class="company">
            <h2>Aélion</h2>
            <address>
                <p>95, chemin de gabardie</p>
                <p><span class="zipcode">31000</span> Toulouse</span></p>
            </address>
         <!-- la liste des contacts-->
            <ul>
                <li>M. James Bond</li>
                <li>M. Gandalf</li>
                <li>M. SHeldon</li>
                <li>M. Thierry</li>
            </ul>
    
            </div>

            <div class="company">
            <h2>CapGemini</h2>
            <address>
                <p>10 rue des ESN</p>
                <p><span class="zipcode">31600</span> Blagnac</span></p>
            </address>

                    <!-- la liste des contacts-->
            <ul>
                <li>M. Jean Talut</li>
                <li>M. Jean Talut</li>
                <li>M. Jean Talut</li>
                <li>M. Jean Talut</li>
            </ul>

            </div>

        <script>

        
// premiere ligne en langage jquery apres en vert c'est en natif
            $('h1').html('Hello jQuery');

            //const monH1 = document.queryselector('h1');
            //monH1.innerHTML = 'Hello jQuery natif JS';

// ci dessous cible tout les evenement de la classe company fonction .on signifie se mettre à l'écoute
            $('.company') .on(
                'click',
// ci dessous c'est une call back fonction retournée par le gestionnaire d'évenement click
                function(event) {
                // dans tous les cas on eleve la classe selected
                    const theOne = $(this); //l'objet est cliqué
                    let removeClass = true; // par défaut j'estime qu'il faut retirer la classe

                    if (!theOne.hasClass('selected')){ // tester si l'objet n'a pas encore la 
                        removeClass = false;
                    }
                    // Supprime pour tout le monde la place selected
                    $('.company').removeClass('selected');
                    $('.company ul') .hide();
                    
        

                    if (removeClass) { // Appliquer sur l'élement ce qui doit etre fait
                        $(this).removeClass('selected');
                        $(this) .children('ul') .hide();    
                    }else 
                        $(this) .addClass('selected');
                        $(this).children('ul').show();
                    }
                    
                
                
                    /**               
                    $(this).css('background-color','red');    
                // Si l'élément concerné a deja la classe .selected on l'enlève

                //if(!$(this).hasCLass('selected')) {
                    $(this).addClass('selected');
                //} else
                    $(this) .removeClass('selected');
                }
                **/
      
        );
        
        // Challenge #1 detecter un click sur le bouton + de l'interface
         // Challenge 2 Récupérer la valeur du span.value
         // Challenge#3 ajouter 1 a la valeur courante de span.value
         // Challenge#4 Remplacer le contenu de span.value par la nouvelle valeur
        $('.up') .on (
            'click',
               
             function(event) {
                console.info('click sur + détecté!');
                // Objet qui contient la valeur a incrementer (value=nom de la classe)
                const value = $ ('.value');
                console.log('Valeur courante de span class=value:' + value.html());
                
                /// Ajouter 1 a la valeur courante  
            let nextValue = parseInt(value.html());
            if (nextValue <10) {
              nextValue = nextValue + 1  
            }
            
            console.log('Après l\'incrémentation la valeur devient: ' + nextValue);

            // Remplacer la valeur de span.vlue par la nouvelle valeur
            value.html(nextValue);
        
            }
        );
        $('.down') .on (
            'click',
               
             function(event) {
                console.info('click sur - détecté!');
                // Objet qui contient la valeur a incrementer (value=nom de la classe)
                const value = $ ('.value');
                console.log('Valeur courante de span class=value:' + value.html());
                
                /// Ajouter 1 a la valeur courante  
            let previousValue = parseInt(value.html());
            if (nextValue > 0) {
                nextvalue = nextValue - 1;

            previousValue = previousValue - 1
            console.log('Après la décrémentation la valeur devient: ' + previousValue);    

            // Remplacer la valeur de span.vlue par la nouvelle valeur
            value.html(previousValue);
            }
        }  
        
        );
        </script>
    </body>

</html>