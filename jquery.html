
<!---premiere ligne definit le type de document-->
<!doctype html>
<html lang="fr">
    <head>
        <meta charset="utf-8">

        <title> Hello jQuery !</title>

        <link href="./assets/styles.css" rel="stylesheet">

        <script src="./node_modules/jquery/dist/jquery.min.js"></script>

    </head>

    <body>
        <header>
            <h1></h1>
        </header>
        <main>
            <div class="company">
            <h2>Aélion</h2>
            <address>
                <p>95, chemin de gabardie</p>
                <p><span class="zipcode">31000</span> Toulouse</span></p>
            </address>
         <!-- la liste des contacts-->
            <ul>
                <li>M. James Bond</li>
                <li>M. Gandalf</li>
                <li>M. SHeldon</li>
                <li>M. Thierry</li>
            </ul>
    
            </div>

            <div class="company">
            <h2>CapGemini</h2>
            <address>
                <p>10 rue des ESN</p>
                <p><span class="zipcode">31600</span> Blagnac</span></p>
            </address>

                    <!-- la liste des contacts-->
            <ul>
                <li>M. Jean Talut</li>
                <li>M. Jean Talut</li>
                <li>M. Jean Talut</li>
                <li>M. Jean Talut</li>
            </ul>

            </div>

        <script>

        
// premiere ligne en langage jquery apres en vert c'est en natif
            $('h1').html('Hello jQuery');

            //const monH1 = document.queryselector('h1');
            //monH1.innerHTML = 'Hello jQuery natif JS';

// ci dessous cible tout les evenement de la classe company fonction .on signifie se mettre à l'écoute
            $('.company') .on(
                'click',
// ci dessous c'est une call back fonction retournée par le gestionnaire d'évenement click
                function(event) {
                // dans tous les cas on eleve la classe selected
                    const theOne = $(this); //l'objet est cliqué
                    let removeClass = true; // par défaut j'estime qu'il faut retirer la classe

                    if (!theOne.hasClass('selected')){ // tester si l'objet n'a pas encore la 
                        removeClass = false;
                    }
                    // Supprime pour tout le monde la place selected
                    $('.company').removeClass('selected');
                    $('.company ul') .hide();

                    if (!removeClass) { // Appliquer sur l'élement ce qui doit etre fait
                        $(this).removeClass('selected');
                        $(this) .children('ul') .hide();    
                    }else 
                        $(this) .addClass('selected');
                        $(this).children('ul').show();
                    }
                    //Challenge #1 detecter un click sur le bouton + de l'interface: complete

           //Challenge #2 recuperer la valeur du span.value: complete

           //Challenge #3 Ajouter 1 a la valeur courance du span value : complete

           //Challenge #4 Remplacer le contenu de span.value par la nouvelle valeur           
            $('.up').on (

               "click", function(event){

                   console.info("Click sur + détecté!");

                   //#1,2 :objet qui contient la valeur a incrementer

                   const value = $('.value');

                   console.log('Valeur courante de span class==value:' + value.html());                    //#3 Ajouter 1 a la valeur courante

                   let nextValue = parseInt(value.html());

                   if(nextValue < 10){

                       nextValue = nextValue +1;                    } else {

                       nextValue = 10

                   }

                   console.log('Apres incrementation la valeur devient :' + nextValue);                    //#4 Remplacer la nouvelle valeur sur le html

                   value.html(nextValue);

               }

            );

           $('.down').on(

               "click", function(event){

                   console.info("Click sur + détecté!");

                   //#1,2 objet qui contient la valeur a incrementer

                   const value = $('.value');

                   console.log('Valeur courante de span class==value:' + value.html());                    //#3 Ajouter 1 a la valeur courante

                   let nextValue = parseInt(value.html());

                   if(nextValue > 0 ){

                       nextValue = nextValue -1;

                   } else {

                       nextValue =0

                   }

                   console.log('Apres incrementation la valeur devient :' + nextValue);                    //#4 Remplacer la nouvelle valeur sur le html

                   value.html(nextValue);

               }
                
                
                    /**               
                    $(this).css('background-color','red');    
                // Si l'élément concerné a deja la classe .selected on l'enlève

                //if(!$(this).hasCLass('selected')) {
                    $(this).addClass('selected');
                //} else {
                    $(this) .removeClass('selected');
                }
                **/
            
           
        );
           
        
        </script>
    </body>

</html>